@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&family=Crimson+Text:wght@400;600;700&family=Merriweather:wght@300;400;700;900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==================== COSMIC ANIMATIONS ==================== */

@keyframes float-stars {
  0%, 100% {
    transform: translateY(0) translateX(0);
    opacity: 0.3;
  }
  50% {
    transform: translateY(-20px) translateX(10px);
    opacity: 0.6;
  }
}

@keyframes nebula-drift {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 0.1;
  }
  50% {
    transform: translate(30px, -30px) scale(1.1);
    opacity: 0.2;
  }
  100% {
    transform: translate(0, 0) scale(1);
    opacity: 0.1;
  }
}

@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.3), 0 0 40px rgba(168, 85, 247, 0.2);
  }
  50% {
    box-shadow: 0 0 30px rgba(255, 215, 0, 0.5), 0 0 60px rgba(168, 85, 247, 0.4);
  }
}

@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

/* ==================== BASE STYLES ==================== */

@layer base {
  * {
    @apply box-border;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply font-sans antialiased text-gray-100;
    background: #0a0a1f;
    background-image:
      radial-gradient(at 0% 0%, rgba(99, 102, 241, 0.2) 0px, transparent 50%),
      radial-gradient(at 100% 0%, rgba(139, 92, 246, 0.2) 0px, transparent 50%),
      radial-gradient(at 100% 100%, rgba(59, 130, 246, 0.2) 0px, transparent 50%),
      radial-gradient(at 0% 100%, rgba(168, 85, 247, 0.2) 0px, transparent 50%);
    min-height: 100vh;
    position: relative;
    overflow-x: hidden;
  }

  /* Cosmic background with animated stars */
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image:
      radial-gradient(2px 2px at 20% 30%, rgba(255, 215, 0, 0.3), transparent),
      radial-gradient(2px 2px at 60% 70%, rgba(255, 215, 0, 0.3), transparent),
      radial-gradient(1px 1px at 50% 50%, rgba(255, 255, 255, 0.4), transparent),
      radial-gradient(1px 1px at 80% 10%, rgba(255, 255, 255, 0.4), transparent),
      radial-gradient(2px 2px at 90% 60%, rgba(168, 85, 247, 0.3), transparent),
      radial-gradient(1px 1px at 33% 85%, rgba(255, 255, 255, 0.4), transparent),
      radial-gradient(1px 1px at 15% 60%, rgba(255, 255, 255, 0.4), transparent);
    background-size: 200% 200%;
    animation: float-stars 20s ease-in-out infinite;
    pointer-events: none;
    z-index: 0;
  }

  /* Nebula effect layer */
  body::after {
    content: '';
    position: fixed;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(139, 92, 246, 0.1) 0%, transparent 70%);
    animation: nebula-drift 30s ease-in-out infinite;
    pointer-events: none;
    z-index: 0;
  }

  /* Ensure content is above cosmic background */
  #root {
    position: relative;
    z-index: 1;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold text-white;
  }

  h1, h2, h3 {
    font-family: 'Cinzel', serif;
    letter-spacing: 0.02em;
  }

  /* ==================== CUSTOM SCROLLBAR ==================== */

  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    background: rgba(10, 10, 31, 0.8);
    border-radius: 10px;
  }

  ::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #FFD700 0%, #a855f7 100%);
    border-radius: 10px;
    border: 2px solid rgba(10, 10, 31, 0.8);
    transition: all 0.3s ease;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #FFD700 0%, #c084fc 100%);
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.5), 0 0 20px rgba(168, 85, 247, 0.3);
  }

  /* Firefox scrollbar */
  * {
    scrollbar-width: thin;
    scrollbar-color: #FFD700 rgba(10, 10, 31, 0.8);
  }
}

/* ==================== COMPONENT STYLES ==================== */

@layer components {
  /* Glass morphism effect */
  .glass {
    background: rgba(17, 17, 35, 0.7);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .glass-strong {
    background: rgba(17, 17, 35, 0.9);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.15);
  }

  .glass-gold {
    background: rgba(17, 17, 35, 0.7);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 215, 0, 0.2);
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.1);
  }

  /* Buttons */
  .btn-primary {
    @apply px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 font-medium shadow-lg shadow-indigo-500/30 hover:shadow-xl hover:shadow-indigo-500/50;
    position: relative;
    overflow: hidden;
  }

  .btn-primary::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
  }

  .btn-primary:hover::before {
    left: 100%;
  }

  .btn-secondary {
    @apply px-4 py-2 glass text-gray-200 rounded-lg hover:bg-white/10 transition-all duration-300 font-medium;
  }

  .btn-ghost {
    @apply px-4 py-2 text-gray-300 rounded-lg hover:bg-white/5 transition-all duration-300 font-medium;
  }

  .btn-gold {
    @apply px-4 py-2 bg-gradient-to-r from-yellow-600 to-yellow-500 text-gray-900 rounded-lg hover:from-yellow-500 hover:to-yellow-400 transition-all duration-300 font-medium shadow-lg shadow-yellow-500/30 hover:shadow-xl hover:shadow-yellow-500/50;
    font-family: 'Cinzel', serif;
    font-weight: 600;
  }

  /* Inputs */
  .input {
    @apply w-full px-4 py-3 glass rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 text-gray-100 placeholder-gray-500;
  }

  .input-error {
    @apply ring-2 ring-red-500 focus:ring-red-500;
  }

  /* Cards */
  .card {
    @apply glass rounded-xl p-6 shadow-xl;
  }

  .card-hover {
    @apply glass rounded-xl p-6 shadow-xl hover:shadow-2xl hover:border-indigo-500/30 transition-all duration-300 cursor-pointer;
  }

  .card-hover:hover {
    transform: translateY(-2px);
  }

  .card-premium {
    @apply glass-gold rounded-xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300;
    animation: pulse-glow 3s ease-in-out infinite;
  }

  /* Editor styles */
  .editor-panel {
    @apply glass-strong rounded-xl p-4 h-full overflow-hidden flex flex-col;
  }

  .editor-content {
    @apply bg-transparent text-gray-100 p-6 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500/30 resize-none font-serif leading-relaxed;
  }

  /* TipTap Editor Styles */
  .ProseMirror {
    @apply bg-transparent text-gray-100 p-6 rounded-lg focus:outline-none min-h-full font-serif leading-relaxed;
  }

  .ProseMirror p {
    @apply mb-4 text-lg;
  }

  .ProseMirror h1 {
    @apply text-3xl font-bold mb-4 mt-6 text-white;
    font-family: 'Cinzel', serif;
  }

  .ProseMirror h2 {
    @apply text-2xl font-bold mb-3 mt-5 text-white;
    font-family: 'Cinzel', serif;
  }

  .ProseMirror h3 {
    @apply text-xl font-semibold mb-3 mt-4 text-gray-200;
  }

  .ProseMirror strong {
    @apply font-bold text-white;
  }

  .ProseMirror em {
    @apply italic;
  }

  .ProseMirror u {
    @apply underline;
  }

  .ProseMirror ul {
    @apply list-disc list-inside mb-4 space-y-2;
  }

  .ProseMirror ol {
    @apply list-decimal list-inside mb-4 space-y-2;
  }

  .ProseMirror li {
    @apply text-gray-100 text-lg;
  }

  .ProseMirror p.is-editor-empty:first-child::before {
    content: attr(data-placeholder);
    @apply text-gray-500 float-left h-0 pointer-events-none;
  }

  .ProseMirror:focus {
    @apply outline-none;
  }

  /* Sidebar */
  .sidebar-item {
    @apply px-4 py-3 rounded-lg hover:bg-white/10 transition-all duration-300 cursor-pointer text-gray-300 hover:text-white;
  }

  .sidebar-item-active {
    @apply px-4 py-3 rounded-lg bg-gradient-to-r from-indigo-600/30 to-purple-600/30 border border-indigo-500/50 text-white;
  }

  /* Magic glow effects */
  .glow {
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
  }

  .glow-purple {
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.3);
  }

  .glow-gold {
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.4), 0 0 40px rgba(255, 215, 0, 0.2);
  }

  .glow-cosmic {
    box-shadow:
      0 0 20px rgba(99, 102, 241, 0.3),
      0 0 40px rgba(168, 85, 247, 0.2),
      0 0 60px rgba(255, 215, 0, 0.1);
  }

  /* Loading spinner */
  .spinner {
    @apply animate-spin rounded-full border-2 border-gray-700 border-t-indigo-500;
  }

  /* Badge */
  .badge {
    @apply px-2 py-1 text-xs rounded-full font-medium;
  }

  .badge-primary {
    @apply bg-indigo-500/20 text-indigo-300 border border-indigo-500/30;
  }

  .badge-success {
    @apply bg-green-500/20 text-green-300 border border-green-500/30;
  }

  .badge-warning {
    @apply bg-yellow-500/20 text-yellow-300 border border-yellow-500/30;
  }

  .badge-gold {
    @apply bg-yellow-500/20 text-yellow-400 border border-yellow-500/40;
    font-family: 'Cinzel', serif;
    font-size: 0.65rem;
    font-weight: 600;
    letter-spacing: 0.05em;
  }
}

/* ==================== UTILITY CLASSES ==================== */

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .gradient-text {
    @apply bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent;
  }

  .gradient-gold {
    background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FFD700 100%);
    background-size: 200% 200%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: shimmer 3s ease-in-out infinite;
  }

  .gradient-cosmic {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
    background-size: 200% 200%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: shimmer 3s ease-in-out infinite;
  }

  .gradient-border {
    border-image: linear-gradient(to right, rgba(99, 102, 241, 0.5), rgba(168, 85, 247, 0.5)) 1;
  }

  .cosmic-bg {
    background: radial-gradient(ellipse at top, #1e1b4b 0%, #0a0a1f 50%, #000000 100%);
    position: relative;
  }

  .shimmer {
    position: relative;
    overflow: hidden;
  }

  .shimmer::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    animation: shimmer 2s infinite;
  }

  .majestic-heading {
    font-family: 'Cinzel', serif;
    font-weight: 700;
    letter-spacing: 0.05em;
    text-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
  }

  /* RTL Support for Hebrew and other RTL languages */
  .rtl-grid {
    direction: rtl;
  }

  .rtl-text {
    direction: rtl;
    text-align: right;
  }

  .ltr-text {
    direction: ltr;
    text-align: left;
  }

  /* Responsive image utilities */
  .img-responsive {
    @apply w-full h-auto object-cover;
  }

  .img-contain {
    @apply w-full h-auto object-contain;
  }
}
